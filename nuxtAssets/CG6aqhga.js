import{_ as Et}from"./ZqKWvp-n.js";import{d as gt,p as ct,Y as l,Z as m,$ as p,J as yt,c as i,k as g,b as o,e as n,N as k,Q as Oe,j as t,y as pt,a0 as we,O as V,a1 as z,F as j,h as K,t as u,z as mt,a2 as D,a3 as It,I as Tt,m as ot,a4 as it,r as h,a5 as Ct,D as Ie,M as dt,V as ut,a6 as Ot,u as Rt,n as T,s as Bt,L as St,f as U,g as E,i as $t,_ as Ut,w as Te,G as L,C as bt,a7 as Be,a8 as At}from"./CHxXT5wL.js";import{_ as Mt}from"./D5C0Ey2G.js";import{M as _t,a as Ce,b as Se}from"./CJUpyWK0.js";import{c as Lt}from"./D67sP_7a.js";import"./Ivdj-dxv.js";const jt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Kt={class:"mb-4"},Vt=["disabled"],zt={class:"mb-4"},Ht=["disabled"],Wt=["value"],Gt=["value"],Pt=["value"],Ft={class:"mb-4"},Yt=["disabled"],qt=["value"],Qt=["value"],Xt=["value"],Jt={class:"flex justify-evenly"},Zt={class:"flex items-center space-x-2 cursor-pointer select-none"},en=["disabled"],tn={class:"flex items-center space-x-2 cursor-pointer select-none"},nn=["disabled"],an={class:"mb-4"},sn=["disabled"],ln=["value","disabled"],rn=["value","disabled"],on=["value","disabled"],dn=["value","disabled"],un=["value","disabled"],bn=["value"],_n=["value"],gn=["value"],cn=["value"],yn=["value","disabled"],pn=["value","disabled"],mn={class:"mb-4"},vn=["disabled"],fn=["value"],xn={class:"flex justify-end space-x-2"},kn=["disabled"],wn=gt({__name:"customBallModal",props:{showModal:{type:Boolean},bowlingTeamPlayers:{},batterID:{},bowlerID:{}},emits:["close","ball"],setup($e,{emit:Re}){const he=$e,_=Re,e=ct({runs_by_running:0,boundary:p.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),I=yt(()=>/^\d+$/.test(e.runs_by_running.toString())&&e.runs_by_running>=0);function Ne(){Object.assign(e,{runs_by_running:0,boundary:p.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),_("close")}function C(){if(!I.value)return;let O=new D(e.runs_by_running,e.boundary,he.batterID,he.bowlerID,e.hit_by,e.wide,e.no_ball,e.wicket,e.helperID);Object.assign(e,{runs_by_running:0,boundary:p.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),_("ball",O)}return(O,r)=>O.showModal?(o(),i("div",jt,[n("form",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",onSubmit:mt(C,["prevent"])},[r[15]||(r[15]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Custom Ball",-1)),n("div",Kt,[r[7]||(r[7]=n("label",{for:"runs_by_running",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runs taken by running between wickets ",-1)),k(n("input",{id:"runs_by_running","onUpdate:modelValue":r[0]||(r[0]=b=>t(e).runs_by_running=b),class:pt(["mt-1 block w-full pl-3 pr-10 py-2 text-base outline-none sm:text-sm rounded-md bg-gray-100 dark:bg-gray-700 dark:text-white disabled:opacity-75",[t(I)?"":"border-2 border-red-500 dark:border-red-600"]]),type:"number",step:"1",disabled:![t(l).NONE,...t(we)].includes(t(e).wicket)},null,10,Vt),[[Oe,t(e).runs_by_running]])]),n("div",zt,[r[8]||(r[8]=n("label",{for:"boundary",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Boundary ",-1)),k(n("select",{id:"boundary","onUpdate:modelValue":r[1]||(r[1]=b=>t(e).boundary=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).wicket!=t(l).NONE},[n("option",{value:t(p).NONE},"None",8,Wt),n("option",{value:t(p).FOUR},"Four",8,Gt),n("option",{value:t(p).SIX},"Six",8,Pt)],8,Ht),[[V,t(e).boundary]])]),n("div",Ft,[r[9]||(r[9]=n("label",{for:"hit_by",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Hit By ",-1)),k(n("select",{id:"hit_by","onUpdate:modelValue":r[2]||(r[2]=b=>t(e).hit_by=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).wide||[t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).LBW].includes(t(e).wicket)},[n("option",{value:t(m).BAT},"Bat",8,qt),n("option",{value:t(m).NONE},"None",8,Qt),n("option",{value:t(m).LEG},"Leg",8,Xt)],8,Yt),[[V,t(e).hit_by]])]),n("div",Jt,[n("label",Zt,[k(n("input",{type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=b=>t(e).wide=b),disabled:t(e).no_ball||t(e).hit_by==t(m).BAT||![t(l).NONE,...t(we),t(l).STUMPED].includes(t(e).wicket),class:"form-checkbox"},null,8,en),[[z,t(e).wide]]),r[10]||(r[10]=n("span",{class:"text-gray-700 dark:text-gray-300"},"wide",-1))]),n("label",tn,[k(n("input",{type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=b=>t(e).no_ball=b),disabled:t(e).wide||![t(l).NONE,...t(we)].includes(t(e).wicket),class:"form-checkbox"},null,8,nn),[[z,t(e).no_ball]]),r[11]||(r[11]=n("span",{class:"text-gray-700 dark:text-gray-300"},"no ball",-1))])]),n("div",an,[r[12]||(r[12]=n("label",{for:"wicket",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Wicket ",-1)),k(n("select",{id:"wicket","onUpdate:modelValue":r[5]||(r[5]=b=>t(e).wicket=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).boundary!=t(p).NONE},[n("option",{value:t(l).NONE,disabled:t(e).helperID!=-1},"None",8,ln),n("option",{value:t(l).BOWLED,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).helperID!=-1},"Bowled",8,rn),n("option",{value:t(l).CAUGHT,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).BAT},"Caught",8,on),n("option",{value:t(l).CAUGHT_AND_BATSMEN_CROSSED,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).BAT},"Caught (batsmen crossed)",8,dn),n("option",{value:t(l).LBW,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).LEG||t(e).helperID!=-1},"LBW",8,un),n("option",{value:t(l).RUN_OUT_STRIKER_ON_STRIKER_END},"Runout (striker on striker end)",8,bn),n("option",{value:t(l).RUN_OUT_STRIKER_ON_NON_STRIKER_END},"Runout (striker on non-striker end)",8,_n),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_STRIKER_END},"Runout (non-striker on striker end)",8,gn),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_NON_STRIKER_END},"Runout (non-striker on non-striker end)",8,cn),n("option",{value:t(l).STUMPED,disabled:t(e).no_ball||t(e).runs_by_running!=0},"Stumped",8,yn),n("option",{value:t(l).HIT_WICKET,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).helperID!=-1},"Hit Wicket",8,pn)],8,sn),[[V,t(e).wicket]])]),n("div",mn,[r[14]||(r[14]=n("label",{for:"helperID",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Helped By ",-1)),k(n("select",{id:"helperID","onUpdate:modelValue":r[6]||(r[6]=b=>t(e).helperID=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:![t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).STUMPED,...t(we)].includes(t(e).wicket)},[r[13]||(r[13]=n("option",{value:-1},null,-1)),(o(!0),i(j,null,K(O.bowlingTeamPlayers,b=>(o(),i("option",{value:b==null?void 0:b.id},u(b==null?void 0:b.name),9,fn))),256))],8,vn),[[V,t(e).helperID]])]),n("div",xn,[n("button",{type:"button",onClick:Ne,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}," Cancel "),n("button",{type:"submit",onClick:C,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none disabled:opacity-60",disabled:!t(I)||[t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).STUMPED,...t(we)].includes(t(e).wicket)&&t(e).helperID==-1}," OK ",8,kn)])],32)])):g("",!0)}}),hn={class:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8"},Nn={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mb-6"},Dn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},En={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},In={class:"flex justify-between"},Tn={class:"text-2xl font-bold"},Cn={key:0},On={key:1},Rn={key:2},Bn={key:0,class:"text-2xl font-semibold text-gray-900 dark:text-white mb-2"},Sn={key:0},$n={class:"text-xl text-gray-500 dark:text-gray-400"},Un={class:"text-sm text-gray-600 dark:text-gray-300 select-none"},An={key:0},Mn={key:1},Ln={key:0},jn={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Kn={key:0,class:"flex items-center mb-2"},Vn={class:"font-medium text-gray-900 dark:text-white flex-grow"},zn={key:0},Hn={class:"text-gray-900 dark:text-white font-semibold"},Wn={class:"text-sm text-gray-500 dark:text-gray-400"},Gn={key:1,class:"flex items-center mb-2"},Pn={class:"font-medium text-gray-900 dark:text-white flex-grow"},Fn={key:0},Yn={class:"text-gray-900 dark:text-white font-semibold"},qn={class:"text-sm text-gray-500 dark:text-gray-400"},Qn={key:2,class:"flex items-center"},Xn={class:"font-medium text-gray-900 dark:text-white flex-grow"},Jn={class:"text-gray-900 dark:text-white font-semibold"},Zn={class:"text-sm text-gray-500 dark:text-gray-400"},ea={class:"mt-2 flex gap-2"},ta={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 relative"},na={key:0,class:"absolute inset-0 bg-gray-900 dark:bg-gray-600 opacity-50 rounded-lg z-10"},aa={key:1,class:"-translate-x-1/2 -translate-y-1/2 absolute top-1/2 left-1/2 opacity-100 z-20 bg-white dark:bg-gray-800 p-3 rounded-lg flex flex-col gap-3"},sa={class:"flex gap-4 mb-4"},la={class:"flex items-center space-x-2 cursor-pointer select-none"},ra=["disabled"],oa={class:"flex items-center space-x-2 cursor-pointer select-none"},ia=["disabled"],da={class:"flex items-center space-x-2 cursor-pointer select-none"},ua=["disabled"],ba={class:"flex items-center space-x-2 cursor-pointer select-none"},_a=["disabled"],ga={class:"flex gap-2 justify-stretch w-full mb-4"},ca={class:"grid grid-cols-3 gap-2 mb-4"},ya={class:"flex justify-stretch gap-2"},pa={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mt-6 grid grid-cols-2 gap-2"},ma={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},va={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},fa={class:"max-h-60 overflow-y-auto mb-4"},xa=["onClick"],ka={class:"flex justify-end"},wa={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ha={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},Na={class:"max-h-60 overflow-y-auto mb-4"},Da={class:"min-w-full"},Ea=["onClick"],Ia={class:"px-1 py-2 font-medium rounded-l"},Ta={class:"px-1 py-2 text-right"},Ca={class:"px-1 py-2 text-right"},Oa={class:"px-1 py-2 text-right font-semibold"},Ra={class:"px-1 py-2 text-right rounded-r"},Ba=["onClick"],Sa={class:"px-1 py-2 font-medium rounded-l"},$a={class:"flex justify-end"},Ua={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Aa={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},Ma={class:"max-h-60 overflow-y-auto mb-4"},La=["onClick"],ja={class:"flex justify-end"},Ka={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Va={class:"mb-4"},za={class:"mb-4"},Ha=["value"],Wa=["value"],Ga=["value"],Pa=["value"],Fa=["value"],Ya={class:"flex justify-end space-x-2"},qa=["disabled"],as=gt({__name:"index",setup($e){const Re=It(),he=Tt(),_=ot("warn_unsaved"),e=ct(new _t(-1,-1,-1,[],[],!1,!1)),I=yt(()=>{var d,a;return e?e.Status==Ce.NOT_STARTED?"start":e.Status==Ce.BREAK?"start2":e.Status==Ce.COMPLETED?"end":((d=e.current_inning)==null?void 0:d.required_action())==it.NEW_BATTER?"batter":((a=e.current_inning)==null?void 0:a.required_action())==it.NEW_BOWLER?"bowler":"ball":"n/a"});async function Ne(){var d;_.value=!0,await T(),await e.push(),await((d=e.current_inning)==null?void 0:d.load_data(Ie)),_.value=!1}const C=h(!1),O=h(!1),r=h(!1),b=h(!1),f=h(""),H=h(!1),y=h(void 0);async function vt(){var d;f.value="",y.value=void 0,H.value=!0,await L(H).toBe(!1),y.value!=null&&(_.value=!0,await T(),await((d=e.current_inning)==null?void 0:d.handle_new_batter(y.value.id)),_.value=!1)}const A=h(!1),Ue=h(0),ft=Lt(async()=>{var a;return Ue.value,f.value,(await Ie.select().from(Be).where(ut(Be.inningID,(a=e.current_inning)==null?void 0:a.id)).orderBy(Be.id).all()).map(c=>At.from_drizzle(c)).filter(c=>{var v;return(v=e.player_by_id(c.playerID))==null?void 0:v.name.toLowerCase().includes(f.value.toLowerCase())})});async function xt(){var d;f.value="",y.value=void 0,A.value=!0,await L(A).toBe(!1),y.value!=null&&(_.value=!0,await T(),await((d=e.current_inning)==null?void 0:d.handle_new_bowler(y.value.id)),_.value=!1)}async function R(d){var c,v,w,N,$,W,G,P,F,Y,q,Q,X,J,Z,ee,te,ne,ae,se,le,re,oe,ie,de,ue,be,_e,ge,ce,ye,pe,me,ve,fe,xe,ke;let a;if(d=="0")a=new D(0,p.NONE,(v=(c=e.current_inning)==null?void 0:c.striker)==null?void 0:v.playerID,(N=(w=e.current_inning)==null?void 0:w.bowler)==null?void 0:N.playerID);else if(d=="1")a=new D(1,p.NONE,(W=($=e.current_inning)==null?void 0:$.striker)==null?void 0:W.playerID,(P=(G=e.current_inning)==null?void 0:G.bowler)==null?void 0:P.playerID);else if(d=="2")a=new D(2,p.NONE,(Y=(F=e.current_inning)==null?void 0:F.striker)==null?void 0:Y.playerID,(Q=(q=e.current_inning)==null?void 0:q.bowler)==null?void 0:Q.playerID);else if(d=="3")a=new D(3,p.NONE,(J=(X=e.current_inning)==null?void 0:X.striker)==null?void 0:J.playerID,(ee=(Z=e.current_inning)==null?void 0:Z.bowler)==null?void 0:ee.playerID);else if(d=="4")a=new D(0,p.FOUR,(ne=(te=e.current_inning)==null?void 0:te.striker)==null?void 0:ne.playerID,(se=(ae=e.current_inning)==null?void 0:ae.bowler)==null?void 0:se.playerID);else if(d=="6")a=new D(0,p.SIX,(re=(le=e.current_inning)==null?void 0:le.striker)==null?void 0:re.playerID,(ie=(oe=e.current_inning)==null?void 0:oe.bowler)==null?void 0:ie.playerID);else if(d=="bowled")a=new D(0,p.NONE,(ue=(de=e.current_inning)==null?void 0:de.striker)==null?void 0:ue.playerID,(_e=(be=e.current_inning)==null?void 0:be.bowler)==null?void 0:_e.playerID,m.BAT,!1,!1,l.BOWLED);else if(d=="lbw")a=new D(0,p.NONE,(ce=(ge=e.current_inning)==null?void 0:ge.striker)==null?void 0:ce.playerID,(pe=(ye=e.current_inning)==null?void 0:ye.bowler)==null?void 0:pe.playerID,m.LEG,!1,!1,l.LBW);else if(d=="hit_wicket")a=new D(0,p.NONE,(ve=(me=e.current_inning)==null?void 0:me.striker)==null?void 0:ve.playerID,(xe=(fe=e.current_inning)==null?void 0:fe.bowler)==null?void 0:xe.playerID,m.BAT,!1,!1,l.HIT_WICKET);else throw new Error("Invalid reply ball call");C.value&&(a.wide=!0,a.hit_by=m.NONE),O.value&&(a.no_ball=!0),r.value&&(a.hit_by=m.NONE),b.value&&(a.hit_by=m.LEG),_.value=!0,await T(),await((ke=e.current_inning)==null?void 0:ke.handle_new_ball(a)),_.value=!1,C.value=!1,O.value=!1,r.value=!1,b.value=!1}const B=h(!1);async function kt(){var c,v,w,N,$;let d=await bt("Caught Out","Did batsmen cross?","Yes","No");if(f.value="",y.value=void 0,B.value=!0,await L(B).toBe(!1),y.value==null)return;let a=new D(0,p.NONE,(v=(c=e.current_inning)==null?void 0:c.striker)==null?void 0:v.playerID,(N=(w=e.current_inning)==null?void 0:w.bowler)==null?void 0:N.playerID,m.BAT,!1,!1,d?l.CAUGHT_AND_BATSMEN_CROSSED:l.CAUGHT,y.value.id);_.value=!0,await T(),await(($=e.current_inning)==null?void 0:$.handle_new_ball(a)),_.value=!1}async function wt(){var a,c,v,w,N;if(f.value="",y.value=void 0,B.value=!0,await L(B).toBe(!1),y.value==null)return;let d=new D(0,p.NONE,(c=(a=e.current_inning)==null?void 0:a.striker)==null?void 0:c.playerID,(w=(v=e.current_inning)==null?void 0:v.bowler)==null?void 0:w.playerID,m.BAT,!1,!1,l.STUMPED,y.value.id);_.value=!0,await T(),await((N=e.current_inning)==null?void 0:N.handle_new_ball(d)),_.value=!1}const M=h(!1),S=h(l.NONE),De=h(0);async function ht(){var a,c,v,w,N;if(S.value=l.NONE,De.value=0,M.value=!0,await L(M).toBe(!1),S.value==l.NONE||(f.value="",y.value=void 0,B.value=!0,await L(B).toBe(!1),y.value==null))return;let d=new D(De.value,p.NONE,(c=(a=e.current_inning)==null?void 0:a.striker)==null?void 0:c.playerID,(w=(v=e.current_inning)==null?void 0:v.bowler)==null?void 0:w.playerID,m.BAT,!1,!1,S.value,y.value.id);_.value=!0,await T(),await((N=e.current_inning)==null?void 0:N.handle_new_ball(d)),_.value=!1}const Ee=h(!1);async function Nt(d){var a;Ee.value=!1,_.value=!0,await T(),await((a=e.current_inning)==null?void 0:a.handle_new_ball(d)),_.value=!1}async function Ae(){_.value=!0,await T(),await e.undo(),_.value=!1}async function Dt(){await bt("Warning","Are you sure you want to delete this match?")&&(_.value=!0,await T(),await e.delete_self(),_.value=!1,he.push("/"))}return ot("loading"),Ct(async()=>{var a,c;let d=(await Ie.select().from(dt).where(ut(dt.id,parseInt(Re.params.id))))[0];if(d===void 0)throw Ot({fatal:!0,statusCode:404});Object.assign(e,_t.from_drizzle(d)),await e.load_data(Ie),Ue.value++,Rt({title:`${(a=e.team1)==null?void 0:a.name} vs ${(c=e.team2)==null?void 0:c.name} - CRK2`}),await T(),Bt(!1)}),(d,a)=>{var W,G,P,F,Y,q,Q,X,J,Z,ee,te,ne,ae,se,le,re,oe,ie,de,ue,be,_e,ge,ce,ye,pe,me,ve,fe,xe,ke,Me,Le,je,Ke,Ve,ze,He,We,Ge,Pe,Fe,Ye,qe,Qe,Xe,Je,Ze,et,tt;const c=Et,v=Ut,w=Mt,N=St("Button"),$=wn;return o(),i("div",hn,[n("div",Nn,[n("div",Dn,[n("div",En,[n("div",In,[n("div",Tn,[((G=(W=t(e))==null?void 0:W.latest_inning)==null?void 0:G.battingTeamID)==((F=(P=t(e))==null?void 0:P.team1)==null?void 0:F.id)?(o(),i("span",Cn,u((q=(Y=t(e))==null?void 0:Y.team1)==null?void 0:q.name),1)):((X=(Q=t(e))==null?void 0:Q.latest_inning)==null?void 0:X.battingTeamID)==((Z=(J=t(e))==null?void 0:J.team2)==null?void 0:Z.id)?(o(),i("span",On,u((te=(ee=t(e))==null?void 0:ee.team2)==null?void 0:te.name),1)):(o(),i("span",Rn,u((ne=t(e).team1)==null?void 0:ne.name)+" vs "+u((ae=t(e).team2)==null?void 0:ae.name),1))]),(se=t(e))!=null&&se.latest_inning?(o(),i("div",Bn,[E(u(t(e).latest_inning.runs),1),((le=t(e).latest_inning)==null?void 0:le.id_YetToBat.length)!=0||t(e).latest_inning.id_striker!=-1&&t(e).latest_inning.id_non_striker!=-1?(o(),i("span",Sn,"/"+u((re=t(e).latest_inning)==null?void 0:re.wickets),1)):g("",!0),n("span",$n,"("+u(t(Se)(t(e).latest_inning.balls))+")",1)])):g("",!0)]),n("div",Un,[t(e).Status!=t(Ce).FIRST_INNING?(o(),i("div",An,u((oe=t(e))==null?void 0:oe.StatusMessage),1)):g("",!0),t(e).current_inning?(o(),i("div",Mn,[n("span",null,"CRR: "+u((ie=t(e).current_inning)==null?void 0:ie.run_rate),1),t(e).current_inning.target!=-1&&t(e).current_inning.balls<t(e).max_balls?(o(),i("span",Ln," RRR: "+u(((t(e).current_inning.target-t(e).current_inning.runs)/(t(e).max_balls-t(e).current_inning.balls)*6).toFixed(2)),1)):g("",!0)])):g("",!0)])]),n("div",jn,[(ue=(de=t(e))==null?void 0:de.latest_inning)!=null&&ue.batter1?(o(),i("div",Kn,[n("span",Vn,[E(u((be=t(e).player_by_id(t(e).latest_inning.batter1.playerID))==null?void 0:be.name)+" ",1),t(e).latest_inning.batter1.id==((_e=t(e).latest_inning.striker)==null?void 0:_e.id)?(o(),i("span",zn," *")):g("",!0)]),n("span",Hn,[E(u(t(e).latest_inning.batter1.runs)+" ",1),n("span",Wn,"("+u(t(e).latest_inning.batter1.balls)+")",1)])])):g("",!0),(ce=(ge=t(e))==null?void 0:ge.latest_inning)!=null&&ce.batter2?(o(),i("div",Gn,[n("span",Pn,[E(u((ye=t(e).player_by_id(t(e).latest_inning.batter2.playerID))==null?void 0:ye.name)+" ",1),t(e).latest_inning.batter2.id==((pe=t(e).latest_inning.striker)==null?void 0:pe.id)?(o(),i("span",Fn," *")):g("",!0)]),n("span",Yn,[E(u(t(e).latest_inning.batter2.runs)+" ",1),n("span",qn,"("+u(t(e).latest_inning.batter2.balls)+")",1)])])):g("",!0),(ve=(me=t(e))==null?void 0:me.latest_inning)!=null&&ve.latest_bowler?(o(),i("div",Qn,[n("span",Xn,u((ke=t(e).player_by_id((xe=(fe=t(e))==null?void 0:fe.latest_inning)==null?void 0:xe.latest_bowler.playerID))==null?void 0:ke.name),1),n("span",Jn,[E(u((Le=(Me=t(e))==null?void 0:Me.latest_inning)==null?void 0:Le.latest_bowler.wickets)+"/"+u((Ke=(je=t(e))==null?void 0:je.latest_inning)==null?void 0:Ke.latest_bowler.runs)+" ",1),n("span",Zn,"("+u(t(Se)((ze=(Ve=t(e))==null?void 0:Ve.latest_inning)==null?void 0:ze.latest_bowler.balls))+")",1)])])):g("",!0),n("div",ea,[(o(!0),i(j,null,K((We=(He=t(e))==null?void 0:He.latest_inning)==null?void 0:We.this_over,s=>(o(),$t(c,{ball:s},null,8,["ball"]))),256))])])])]),n("div",ta,[I.value!="ball"?(o(),i("div",na)):g("",!0),I.value!="ball"?(o(),i("div",aa,[I.value=="start"?(o(),i("button",{key:0,class:"bg-blue-600 rounded p-2 text-white",onClick:Ne},"Start Match")):g("",!0),I.value=="start2"?(o(),i("button",{key:1,class:"bg-blue-600 rounded p-2 text-white",onClick:Ne},"Start Second Inning")):g("",!0),I.value=="batter"?(o(),i("button",{key:2,class:"bg-blue-600 rounded p-2 text-white",onClick:vt},"Select Batter")):g("",!0),I.value=="bowler"?(o(),i("button",{key:3,class:"bg-blue-600 rounded p-2 text-white",onClick:xt},"Select Bowler")):g("",!0),I.value!="start"?(o(),i("button",{key:4,class:"bg-yellow-400 dark:bg-yellow-500 rounded p-2 text-white flex items-center gap-1 justify-center",onClick:Ae},[U(v,{name:"majesticons:undo",size:"1.2rem"}),a[28]||(a[28]=E(" Undo "))])):g("",!0)])):g("",!0),n("div",sa,[n("label",la,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=s=>C.value=s),class:"form-checkbox",disabled:r.value||b.value||O.value},null,8,ra),[[z,C.value]]),a[29]||(a[29]=n("span",{class:"text-gray-700 dark:text-gray-300"},"wd",-1))]),n("label",oa,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=s=>O.value=s),class:"form-checkbox",disabled:C.value},null,8,ia),[[z,O.value]]),a[30]||(a[30]=n("span",{class:"text-gray-700 dark:text-gray-300"},"nb",-1))]),n("label",da,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>r.value=s),class:"form-checkbox",disabled:C.value||b.value},null,8,ua),[[z,r.value]]),a[31]||(a[31]=n("span",{class:"text-gray-700 dark:text-gray-300"},"b",-1))]),n("label",ba,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=s=>b.value=s),class:"form-checkbox",disabled:r.value||C.value},null,8,_a),[[z,b.value]]),a[32]||(a[32]=n("span",{class:"text-gray-700 dark:text-gray-300"},"lb",-1))])]),n("div",ga,[n("button",{class:"cp-btn-runs",onClick:a[4]||(a[4]=s=>R("0"))},"0"),n("button",{class:"cp-btn-runs",onClick:a[5]||(a[5]=s=>R("1"))},"1"),n("button",{class:"cp-btn-runs",onClick:a[6]||(a[6]=s=>R("2"))},"2"),n("button",{class:"cp-btn-runs",onClick:a[7]||(a[7]=s=>R("3"))},"3"),n("button",{class:"cp-btn-4",onClick:a[8]||(a[8]=s=>R("4"))},"4"),n("button",{class:"cp-btn-6",onClick:a[9]||(a[9]=s=>R("6"))},"6")]),n("div",ca,[n("button",{class:"cp-btn-w",onClick:a[10]||(a[10]=s=>R("bowled"))},"Bowled"),n("button",{class:"cp-btn-w",onClick:kt},"Caught"),n("button",{class:"cp-btn-w",onClick:a[11]||(a[11]=s=>R("lbw"))},"LBW"),n("button",{class:"cp-btn-w",onClick:wt},"Stumped"),n("button",{class:"cp-btn-w",onClick:a[12]||(a[12]=s=>R("hit_wicket"))},"Hit Wicket"),n("button",{class:"cp-btn-w",onClick:a[13]||(a[13]=s=>ht())},"Run Out")]),n("div",ya,[n("button",{class:"cp-btn-undo flex items-center gap-1",onClick:Ae},[U(v,{name:"majesticons:undo",size:"1.2rem"}),a[33]||(a[33]=E(" Undo "))]),n("button",{class:"cp-btn-cb",onClick:a[14]||(a[14]=s=>Ee.value=!0)},"Custom Ball")])]),n("div",pa,[U(w,{to:`/match/${(Ge=t(e))==null?void 0:Ge.id}/scoreboard`,class:"flex items-center bg-green-500 dark:bg-green-600 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[34]||(a[34]=[E("Scoreboard")])),_:1,__:[34]},8,["to"]),U(w,{to:`/match/${(Pe=t(e))==null?void 0:Pe.id}/timeline`,class:"flex items-center bg-indigo-500 dark:bg-indigo-600 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[35]||(a[35]=[E("Timeline")])),_:1,__:[35]},8,["to"]),U(w,{to:`/match/${(Fe=t(e))==null?void 0:Fe.id}/charts`,class:"flex items-center bg-yellow-400 dark:bg-yellow-500 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[36]||(a[36]=[E("Charts")])),_:1,__:[36]},8,["to"]),U(N,{class:"flex items-center bg-red-500 dark:bg-red-600 text-white font-bold py-2 px-4 rounded w-full justify-center",onClick:Dt},{default:Te(()=>a[37]||(a[37]=[E("Delete")])),_:1,__:[37]})]),H.value?(o(),i("div",ma,[n("div",va,[a[38]||(a[38]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Batter",-1)),k(n("input",{"onUpdate:modelValue":a[15]||(a[15]=s=>f.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,f.value]]),n("ul",fa,[(o(!0),i(j,null,K((qe=(Ye=t(e))==null?void 0:Ye.current_inning)==null?void 0:qe.id_YetToBat.map(s=>{var x;return(x=t(e))==null?void 0:x.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(f.value.toLowerCase())),s=>(o(),i("li",{onClick:x=>{y.value=s,H.value=!1},class:"cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},u(s==null?void 0:s.name),9,xa))),256))]),n("div",ka,[n("button",{onClick:a[16]||(a[16]=s=>H.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),A.value?(o(),i("div",wa,[n("div",ha,[a[44]||(a[44]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Bowler Modal",-1)),k(n("input",{"onUpdate:modelValue":a[17]||(a[17]=s=>f.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,f.value]]),n("ul",Na,[n("table",Da,[a[43]||(a[43]=n("tr",{class:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wider"},[n("th",{class:"px-1 py-2"},"Bowler"),n("th",{class:"px-1 py-2 text-right"},"O"),n("th",{class:"px-1 py-2 text-right"},"R"),n("th",{class:"px-1 py-2 text-right"},"W"),n("th",{class:"px-1 py-2 text-right"},"Econ")],-1)),(o(!0),i(j,null,K(t(ft),(s,x)=>{var nt,at,st;return o(),i("tr",{key:x,type:"button",onClick:Qa=>{var lt,rt;(s==null?void 0:s.id)!=((rt=(lt=t(e).current_inning)==null?void 0:lt.last_bowler)==null?void 0:rt.id)&&(y.value=t(e).player_by_id(s.playerID),A.value=!1)},class:pt(["text-sm text-gray-900 dark:text-gray-100 cursor-pointer disabled:opacity-50",[(s==null?void 0:s.id)==((at=(nt=t(e).current_inning)==null?void 0:nt.last_bowler)==null?void 0:at.id)?"opacity-50":"hover:bg-gray-100 dark:hover:bg-gray-700"]])},[n("td",Ia,u((st=t(e).player_by_id(s.playerID))==null?void 0:st.name),1),n("td",Ta,u(t(Se)(s.balls)),1),n("td",Ca,u(s==null?void 0:s.runs),1),n("td",Oa,u(s==null?void 0:s.wickets),1),n("td",Ra,u(s==null?void 0:s.economy),1)],10,Ea)}),128)),(o(!0),i(j,null,K((Xe=(Qe=t(e))==null?void 0:Qe.current_inning)==null?void 0:Xe.id_YetToBowl.toReversed().map(s=>{var x;return(x=t(e))==null?void 0:x.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(f.value.toLowerCase())),s=>(o(),i("tr",{onClick:x=>{y.value=s,A.value=!1},class:"text-sm text-gray-900 dark:text-gray-100 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700"},[n("td",Sa,u(s==null?void 0:s.name),1),a[39]||(a[39]=n("td",{class:"px-1 py-2 text-right"}," ",-1)),a[40]||(a[40]=n("td",{class:"px-1 py-2 text-right"}," ",-1)),a[41]||(a[41]=n("td",{class:"px-1 py-2 text-right font-semibold"}," ",-1)),a[42]||(a[42]=n("td",{class:"px-1 py-2 text-right rounded-r"}," ",-1))],8,Ba))),256))])]),n("div",$a,[n("button",{onClick:a[18]||(a[18]=s=>A.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),B.value?(o(),i("div",Ua,[n("div",Aa,[a[45]||(a[45]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Helper",-1)),k(n("input",{"onUpdate:modelValue":a[19]||(a[19]=s=>f.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,f.value]]),n("ul",Ma,[(o(!0),i(j,null,K((t(e).current_inning==t(e).FirstInning?t(e).team2PlayerIDs:t(e).team1PlayerIDs).map(s=>{var x;return(x=t(e))==null?void 0:x.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(f.value.toLowerCase())),s=>(o(),i("li",{onClick:x=>{y.value=s,B.value=!1},class:"cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},u(s==null?void 0:s.name),9,La))),256))]),n("div",ja,[n("button",{onClick:a[20]||(a[20]=s=>B.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),M.value?(o(),i("div",Ka,[n("form",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",onSubmit:a[25]||(a[25]=mt(s=>M.value=!1,["prevent"]))},[a[49]||(a[49]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Runout Type",-1)),n("div",Va,[a[47]||(a[47]=n("label",{for:"runsBeforeRunout",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runs before runout (for more use custom ball) ",-1)),k(n("select",{id:"runsBeforeRunout","onUpdate:modelValue":a[21]||(a[21]=s=>De.value=s),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"},a[46]||(a[46]=[n("option",{value:0},"0",-1),n("option",{value:1},"1",-1),n("option",{value:2},"2",-1),n("option",{value:3},"3",-1)]),512),[[V,De.value]])]),n("div",za,[a[48]||(a[48]=n("label",{for:"runoutType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runout Type ",-1)),k(n("select",{id:"runoutType","onUpdate:modelValue":a[22]||(a[22]=s=>S.value=s),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[n("option",{value:t(l).NONE},"Select One",8,Ha),n("option",{value:t(l).RUN_OUT_STRIKER_ON_STRIKER_END}," Striker got out on striker end ",8,Wa),n("option",{value:t(l).RUN_OUT_STRIKER_ON_NON_STRIKER_END}," Striker got out on non-striker end ",8,Ga),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_STRIKER_END}," Non-striker got out on striker end ",8,Pa),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_NON_STRIKER_END}," Non-striker got out on non-striker end ",8,Fa)],512),[[V,S.value]])]),n("div",Ya,[n("button",{onClick:a[23]||(a[23]=s=>{S.value=t(l).NONE,M.value=!1}),type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}," Cancel "),n("button",{onClick:a[24]||(a[24]=s=>M.value=!1),disabled:S.value==t(l).NONE,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none disabled:opacity-60"}," OK ",8,qa)])],32)])):g("",!0),U($,{"show-modal":Ee.value,"bowling-team-players":(t(e).current_inning==t(e).FirstInning?t(e).team2PlayerIDs:t(e).team1PlayerIDs).map(s=>{var x;return(x=t(e))==null?void 0:x.player_by_id(s)}),"bowler-id":(Ze=(Je=t(e).current_inning)==null?void 0:Je.bowler)==null?void 0:Ze.playerID,"batter-id":(tt=(et=t(e).current_inning)==null?void 0:et.striker)==null?void 0:tt.playerID,onClose:a[26]||(a[26]=s=>Ee.value=!1),onBall:a[27]||(a[27]=s=>Nt(s))},null,8,["show-modal","bowling-team-players","bowler-id","batter-id"])])}}});export{as as default};
