import{_ as wt}from"./_-jsk1oc.js";import{d as dt,D as ut,W as l,I as m,J as y,K as bt,c as i,j as g,a as o,b as n,M as k,N as Oe,i as t,O as _t,R as we,P as V,Q as H,F as j,g as K,t as u,S as gt,T as E,y as ht,z as Nt,A as rt,U as ot,r as h,V as Et,E as Dt,u as Tt,n as I,s as It,G as Ct,e as U,f as D,h as Ot,_ as Rt,w as Te,X as L,H as it}from"./BftIUcDm.js";import{_ as St}from"./BqSKh5cC.js";import{a as Bt,M as Ie,D as Ce,b as Se}from"./Bcq5nZh3.js";import{c as $t}from"./9bzZCwMd.js";const Ut={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},At={class:"mb-4"},Mt=["disabled"],Lt={class:"mb-4"},jt=["disabled"],Kt=["value"],Vt=["value"],Ht=["value"],Wt={class:"mb-4"},Gt=["disabled"],Pt=["value"],zt=["value"],Ft=["value"],Yt={class:"flex justify-evenly"},Xt={class:"flex items-center space-x-2 cursor-pointer select-none"},qt=["disabled"],Qt={class:"flex items-center space-x-2 cursor-pointer select-none"},Jt=["disabled"],Zt={class:"mb-4"},en=["disabled"],tn=["value","disabled"],nn=["value","disabled"],an=["value","disabled"],sn=["value","disabled"],ln=["value","disabled"],rn=["value"],on=["value"],dn=["value"],un=["value"],bn=["value","disabled"],_n=["value","disabled"],gn={class:"mb-4"},cn=["disabled"],yn=["value"],pn={class:"flex justify-end space-x-2"},mn=["disabled"],vn=dt({__name:"customBallModal",props:{showModal:{type:Boolean},bowlingTeamPlayers:{},batterID:{},bowlerID:{}},emits:["close","ball"],setup(Be,{emit:Re}){const he=Be,_=Re,e=ut({runs_by_running:0,boundary:y.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),T=bt(()=>/^\d+$/.test(e.runs_by_running.toString())&&e.runs_by_running>=0);function Ne(){Object.assign(e,{runs_by_running:0,boundary:y.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),_("close")}function C(){if(!T.value)return;let O=new E(e.runs_by_running,e.boundary,he.batterID,he.bowlerID,e.hit_by,e.wide,e.no_ball,e.wicket,e.helperID);Object.assign(e,{runs_by_running:0,boundary:y.NONE,hit_by:m.BAT,wide:!1,no_ball:!1,wicket:l.NONE,helperID:-1}),_("ball",O)}return(O,r)=>O.showModal?(o(),i("div",Ut,[n("form",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",onSubmit:gt(C,["prevent"])},[r[15]||(r[15]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Custom Ball",-1)),n("div",At,[r[7]||(r[7]=n("label",{for:"runs_by_running",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runs taken by running between wickets ",-1)),k(n("input",{id:"runs_by_running","onUpdate:modelValue":r[0]||(r[0]=b=>t(e).runs_by_running=b),class:_t(["mt-1 block w-full pl-3 pr-10 py-2 text-base outline-none sm:text-sm rounded-md bg-gray-100 dark:bg-gray-700 dark:text-white disabled:opacity-75",[t(T)?"":"border-2 border-red-500 dark:border-red-600"]]),type:"number",step:"1",disabled:![t(l).NONE,...t(we)].includes(t(e).wicket)},null,10,Mt),[[Oe,t(e).runs_by_running]])]),n("div",Lt,[r[8]||(r[8]=n("label",{for:"boundary",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Boundary ",-1)),k(n("select",{id:"boundary","onUpdate:modelValue":r[1]||(r[1]=b=>t(e).boundary=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).wicket!=t(l).NONE},[n("option",{value:t(y).NONE},"None",8,Kt),n("option",{value:t(y).FOUR},"Four",8,Vt),n("option",{value:t(y).SIX},"Six",8,Ht)],8,jt),[[V,t(e).boundary]])]),n("div",Wt,[r[9]||(r[9]=n("label",{for:"hit_by",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Hit By ",-1)),k(n("select",{id:"hit_by","onUpdate:modelValue":r[2]||(r[2]=b=>t(e).hit_by=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).wide||[t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).LBW].includes(t(e).wicket)},[n("option",{value:t(m).BAT},"Bat",8,Pt),n("option",{value:t(m).NONE},"None",8,zt),n("option",{value:t(m).LEG},"Leg",8,Ft)],8,Gt),[[V,t(e).hit_by]])]),n("div",Yt,[n("label",Xt,[k(n("input",{type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=b=>t(e).wide=b),disabled:t(e).no_ball||t(e).hit_by==t(m).BAT||![t(l).NONE,...t(we),t(l).STUMPED].includes(t(e).wicket),class:"form-checkbox"},null,8,qt),[[H,t(e).wide]]),r[10]||(r[10]=n("span",{class:"text-gray-700 dark:text-gray-300"},"wide",-1))]),n("label",Qt,[k(n("input",{type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=b=>t(e).no_ball=b),disabled:t(e).wide||![t(l).NONE,...t(we)].includes(t(e).wicket),class:"form-checkbox"},null,8,Jt),[[H,t(e).no_ball]]),r[11]||(r[11]=n("span",{class:"text-gray-700 dark:text-gray-300"},"no ball",-1))])]),n("div",Zt,[r[12]||(r[12]=n("label",{for:"wicket",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Wicket ",-1)),k(n("select",{id:"wicket","onUpdate:modelValue":r[5]||(r[5]=b=>t(e).wicket=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:t(e).boundary!=t(y).NONE},[n("option",{value:t(l).NONE,disabled:t(e).helperID!=-1},"None",8,tn),n("option",{value:t(l).BOWLED,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).helperID!=-1},"Bowled",8,nn),n("option",{value:t(l).CAUGHT,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).BAT},"Caught",8,an),n("option",{value:t(l).CAUGHT_AND_BATSMEN_CROSSED,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).BAT},"Caught (batsmen crossed)",8,sn),n("option",{value:t(l).LBW,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).hit_by!=t(m).LEG||t(e).helperID!=-1},"LBW",8,ln),n("option",{value:t(l).RUN_OUT_STRIKER_ON_STRIKER_END},"Runout (striker on striker end)",8,rn),n("option",{value:t(l).RUN_OUT_STRIKER_ON_NON_STRIKER_END},"Runout (striker on non-striker end)",8,on),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_STRIKER_END},"Runout (non-striker on striker end)",8,dn),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_NON_STRIKER_END},"Runout (non-striker on non-striker end)",8,un),n("option",{value:t(l).STUMPED,disabled:t(e).no_ball||t(e).runs_by_running!=0},"Stumped",8,bn),n("option",{value:t(l).HIT_WICKET,disabled:t(e).no_ball||t(e).wide||t(e).runs_by_running!=0||t(e).helperID!=-1},"Hit Wicket",8,_n)],8,en),[[V,t(e).wicket]])]),n("div",gn,[r[14]||(r[14]=n("label",{for:"helperID",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Helped By ",-1)),k(n("select",{id:"helperID","onUpdate:modelValue":r[6]||(r[6]=b=>t(e).helperID=b),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:![t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).STUMPED,...t(we)].includes(t(e).wicket)},[r[13]||(r[13]=n("option",{value:-1},null,-1)),(o(!0),i(j,null,K(O.bowlingTeamPlayers,b=>(o(),i("option",{value:b==null?void 0:b.id},u(b==null?void 0:b.name),9,yn))),256))],8,cn),[[V,t(e).helperID]])]),n("div",pn,[n("button",{type:"button",onClick:Ne,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}," Cancel "),n("button",{type:"submit",onClick:C,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none disabled:opacity-60",disabled:!t(T)||[t(l).CAUGHT,t(l).CAUGHT_AND_BATSMEN_CROSSED,t(l).STUMPED,...t(we)].includes(t(e).wicket)&&t(e).helperID==-1}," OK ",8,mn)])],32)])):g("",!0)}}),xn={class:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8"},fn={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mb-6"},kn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},wn={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},hn={class:"flex justify-between"},Nn={class:"text-2xl font-bold"},En={key:0},Dn={key:1},Tn={key:2},In={key:0,class:"text-2xl font-semibold text-gray-900 dark:text-white mb-2"},Cn={key:0},On={class:"text-xl text-gray-500 dark:text-gray-400"},Rn={class:"text-sm text-gray-600 dark:text-gray-300 select-none"},Sn={key:0},Bn={key:1},$n={key:0},Un={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},An={key:0,class:"flex items-center mb-2"},Mn={class:"font-medium text-gray-900 dark:text-white flex-grow"},Ln={key:0},jn={class:"text-gray-900 dark:text-white font-semibold"},Kn={class:"text-sm text-gray-500 dark:text-gray-400"},Vn={key:1,class:"flex items-center mb-2"},Hn={class:"font-medium text-gray-900 dark:text-white flex-grow"},Wn={key:0},Gn={class:"text-gray-900 dark:text-white font-semibold"},Pn={class:"text-sm text-gray-500 dark:text-gray-400"},zn={key:2,class:"flex items-center"},Fn={class:"font-medium text-gray-900 dark:text-white flex-grow"},Yn={class:"text-gray-900 dark:text-white font-semibold"},Xn={class:"text-sm text-gray-500 dark:text-gray-400"},qn={class:"mt-2 flex gap-2"},Qn={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 relative"},Jn={key:0,class:"absolute inset-0 bg-gray-900 dark:bg-gray-600 opacity-50 rounded-lg z-10"},Zn={key:1,class:"-translate-x-1/2 -translate-y-1/2 absolute top-1/2 left-1/2 opacity-100 z-20 bg-white dark:bg-gray-800 p-3 rounded-lg flex flex-col gap-3"},ea={class:"flex gap-4 mb-4"},ta={class:"flex items-center space-x-2 cursor-pointer select-none"},na=["disabled"],aa={class:"flex items-center space-x-2 cursor-pointer select-none"},sa=["disabled"],la={class:"flex items-center space-x-2 cursor-pointer select-none"},ra=["disabled"],oa={class:"flex items-center space-x-2 cursor-pointer select-none"},ia=["disabled"],da={class:"flex gap-2 justify-stretch w-full mb-4"},ua={class:"grid grid-cols-3 gap-2 mb-4"},ba={class:"flex justify-stretch gap-2"},_a={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mt-6 grid grid-cols-2 gap-2"},ga={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ca={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},ya={class:"max-h-60 overflow-y-auto mb-4"},pa=["onClick"],ma={class:"flex justify-end"},va={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},xa={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},fa={class:"max-h-60 overflow-y-auto mb-4"},ka={class:"min-w-full"},wa=["onClick"],ha={class:"px-1 py-2 font-medium rounded-l"},Na={class:"px-1 py-2 text-right"},Ea={class:"px-1 py-2 text-right"},Da={class:"px-1 py-2 text-right font-semibold"},Ta={class:"px-1 py-2 text-right rounded-r"},Ia=["onClick"],Ca={class:"px-1 py-2 font-medium rounded-l"},Oa={class:"flex justify-end"},Ra={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Sa={class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md"},Ba={class:"max-h-60 overflow-y-auto mb-4"},$a=["onClick"],Ua={class:"flex justify-end"},Aa={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Ma={class:"mb-4"},La={class:"mb-4"},ja=["value"],Ka=["value"],Va=["value"],Ha=["value"],Wa=["value"],Ga={class:"flex justify-end space-x-2"},Pa=["disabled"],Ja=dt({__name:"index",setup(Be){const Re=ht(),he=Nt(),_=rt("warn_unsaved"),e=ut(new Bt(-1,-1,-1,[],[],!1,!1)),T=bt(()=>{var d,a;return e?e.Status==Ie.NOT_STARTED?"start":e.Status==Ie.BREAK?"start2":e.Status==Ie.COMPLETED?"end":((d=e.current_inning)==null?void 0:d.required_action())==ot.NEW_BATTER?"batter":((a=e.current_inning)==null?void 0:a.required_action())==ot.NEW_BOWLER?"bowler":"ball":"n/a"});async function Ne(){var d;_.value=!0,await I(),await e.push(),await((d=e.current_inning)==null?void 0:d.load_data(Ce)),_.value=!1}const C=h(!1),O=h(!1),r=h(!1),b=h(!1),x=h(""),W=h(!1),c=h(void 0);async function ct(){var d;x.value="",c.value=void 0,W.value=!0,await L(W).toBe(!1),c.value!=null&&(_.value=!0,await I(),await((d=e.current_inning)==null?void 0:d.handle_new_batter(c.value.id)),_.value=!1)}const A=h(!1),$e=h(0),yt=$t(async()=>{var a;return $e.value,x.value,(await Ce.player_bowling_inning.where({inningID:(a=e.current_inning)==null?void 0:a.id}).toArray()).filter(p=>{var v;return(v=e.player_by_id(p.playerID))==null?void 0:v.name.toLowerCase().includes(x.value.toLowerCase())})});async function pt(){var d;x.value="",c.value=void 0,A.value=!0,await L(A).toBe(!1),c.value!=null&&(_.value=!0,await I(),await((d=e.current_inning)==null?void 0:d.handle_new_bowler(c.value.id)),_.value=!1)}async function R(d){var p,v,w,N,$,G,P,z,F,Y,X,q,Q,J,Z,ee,te,ne,ae,se,le,re,oe,ie,de,ue,be,_e,ge,ce,ye,pe,me,ve,xe,fe,ke;let a;if(d=="0")a=new E(0,y.NONE,(v=(p=e.current_inning)==null?void 0:p.striker)==null?void 0:v.playerID,(N=(w=e.current_inning)==null?void 0:w.bowler)==null?void 0:N.playerID);else if(d=="1")a=new E(1,y.NONE,(G=($=e.current_inning)==null?void 0:$.striker)==null?void 0:G.playerID,(z=(P=e.current_inning)==null?void 0:P.bowler)==null?void 0:z.playerID);else if(d=="2")a=new E(2,y.NONE,(Y=(F=e.current_inning)==null?void 0:F.striker)==null?void 0:Y.playerID,(q=(X=e.current_inning)==null?void 0:X.bowler)==null?void 0:q.playerID);else if(d=="3")a=new E(3,y.NONE,(J=(Q=e.current_inning)==null?void 0:Q.striker)==null?void 0:J.playerID,(ee=(Z=e.current_inning)==null?void 0:Z.bowler)==null?void 0:ee.playerID);else if(d=="4")a=new E(0,y.FOUR,(ne=(te=e.current_inning)==null?void 0:te.striker)==null?void 0:ne.playerID,(se=(ae=e.current_inning)==null?void 0:ae.bowler)==null?void 0:se.playerID);else if(d=="6")a=new E(0,y.SIX,(re=(le=e.current_inning)==null?void 0:le.striker)==null?void 0:re.playerID,(ie=(oe=e.current_inning)==null?void 0:oe.bowler)==null?void 0:ie.playerID);else if(d=="bowled")a=new E(0,y.NONE,(ue=(de=e.current_inning)==null?void 0:de.striker)==null?void 0:ue.playerID,(_e=(be=e.current_inning)==null?void 0:be.bowler)==null?void 0:_e.playerID,m.BAT,!1,!1,l.BOWLED);else if(d=="lbw")a=new E(0,y.NONE,(ce=(ge=e.current_inning)==null?void 0:ge.striker)==null?void 0:ce.playerID,(pe=(ye=e.current_inning)==null?void 0:ye.bowler)==null?void 0:pe.playerID,m.LEG,!1,!1,l.LBW);else if(d=="hit_wicket")a=new E(0,y.NONE,(ve=(me=e.current_inning)==null?void 0:me.striker)==null?void 0:ve.playerID,(fe=(xe=e.current_inning)==null?void 0:xe.bowler)==null?void 0:fe.playerID,m.BAT,!1,!1,l.HIT_WICKET);else throw new Error("Invalid reply ball call");C.value&&(a.wide=!0),O.value&&(a.no_ball=!0),r.value&&(a.hit_by=m.NONE),b.value&&(a.hit_by=m.LEG),_.value=!0,await I(),await((ke=e.current_inning)==null?void 0:ke.handle_new_ball(a)),_.value=!1,C.value=!1,O.value=!1,r.value=!1,b.value=!1}const S=h(!1);async function mt(){var p,v,w,N,$;let d=await it("Caught Out","Did batsmen cross?","Yes","No");if(x.value="",c.value=void 0,S.value=!0,await L(S).toBe(!1),c.value==null)return;let a=new E(0,y.NONE,(v=(p=e.current_inning)==null?void 0:p.striker)==null?void 0:v.playerID,(N=(w=e.current_inning)==null?void 0:w.bowler)==null?void 0:N.playerID,m.BAT,!1,!1,d?l.CAUGHT_AND_BATSMEN_CROSSED:l.CAUGHT,c.value.id);_.value=!0,await I(),await(($=e.current_inning)==null?void 0:$.handle_new_ball(a)),_.value=!1}async function vt(){var a,p,v,w,N;if(x.value="",c.value=void 0,S.value=!0,await L(S).toBe(!1),c.value==null)return;let d=new E(0,y.NONE,(p=(a=e.current_inning)==null?void 0:a.striker)==null?void 0:p.playerID,(w=(v=e.current_inning)==null?void 0:v.bowler)==null?void 0:w.playerID,m.BAT,!1,!1,l.STUMPED,c.value.id);_.value=!0,await I(),await((N=e.current_inning)==null?void 0:N.handle_new_ball(d)),_.value=!1}const M=h(!1),B=h(l.NONE),Ee=h(0);async function xt(){var a,p,v,w,N;if(B.value=l.NONE,Ee.value=0,M.value=!0,await L(M).toBe(!1),B.value==l.NONE||(x.value="",c.value=void 0,S.value=!0,await L(S).toBe(!1),c.value==null))return;let d=new E(Ee.value,y.NONE,(p=(a=e.current_inning)==null?void 0:a.striker)==null?void 0:p.playerID,(w=(v=e.current_inning)==null?void 0:v.bowler)==null?void 0:w.playerID,m.BAT,!1,!1,B.value,c.value.id);_.value=!0,await I(),await((N=e.current_inning)==null?void 0:N.handle_new_ball(d)),_.value=!1}const De=h(!1);async function ft(d){var a;De.value=!1,_.value=!0,await I(),await((a=e.current_inning)==null?void 0:a.handle_new_ball(d)),_.value=!1}async function Ue(){_.value=!0,await I(),await e.undo(),_.value=!1}async function kt(){await it("Warning","Are you sure you want to delete this match?")&&(_.value=!0,await I(),await e.delete_self(),_.value=!1,he.push("/"))}return rt("loading"),Et(async()=>{var a,p;let d=await Ce.match.get(parseInt(Re.params.id));if(d===void 0)throw Dt({fatal:!0,statusCode:404});Object.assign(e,d),await e.load_data(Ce),$e.value++,Tt({title:`${(a=e.team1)==null?void 0:a.name} vs ${(p=e.team2)==null?void 0:p.name} - CRK2`}),await I(),It(!1)}),(d,a)=>{var G,P,z,F,Y,X,q,Q,J,Z,ee,te,ne,ae,se,le,re,oe,ie,de,ue,be,_e,ge,ce,ye,pe,me,ve,xe,fe,ke,Ae,Me,Le,je,Ke,Ve,He,We,Ge,Pe,ze,Fe,Ye,Xe,qe,Qe,Je,Ze,et;const p=wt,v=Rt,w=St,N=Ct("Button"),$=vn;return o(),i("div",xn,[n("div",fn,[n("div",kn,[n("div",wn,[n("div",hn,[n("div",Nn,[((P=(G=t(e))==null?void 0:G.latest_inning)==null?void 0:P.battingTeamID)==((F=(z=t(e))==null?void 0:z.team1)==null?void 0:F.id)?(o(),i("span",En,u((X=(Y=t(e))==null?void 0:Y.team1)==null?void 0:X.name),1)):((Q=(q=t(e))==null?void 0:q.latest_inning)==null?void 0:Q.battingTeamID)==((Z=(J=t(e))==null?void 0:J.team2)==null?void 0:Z.id)?(o(),i("span",Dn,u((te=(ee=t(e))==null?void 0:ee.team2)==null?void 0:te.name),1)):(o(),i("span",Tn,u((ne=t(e).team1)==null?void 0:ne.name)+" vs "+u((ae=t(e).team2)==null?void 0:ae.name),1))]),(se=t(e))!=null&&se.latest_inning?(o(),i("div",In,[D(u(t(e).latest_inning.runs),1),((le=t(e).latest_inning)==null?void 0:le.id_YetToBat.length)!=0||t(e).latest_inning.id_striker!=-1&&t(e).latest_inning.id_non_striker!=-1?(o(),i("span",Cn,"/"+u((re=t(e).latest_inning)==null?void 0:re.wickets),1)):g("",!0),n("span",On,"("+u(t(Se)(t(e).latest_inning.balls))+")",1)])):g("",!0)]),n("div",Rn,[t(e).Status!=t(Ie).FIRST_INNING?(o(),i("div",Sn,u((oe=t(e))==null?void 0:oe.StatusMessage),1)):g("",!0),t(e).current_inning?(o(),i("div",Bn,[n("span",null,"CRR: "+u((ie=t(e).current_inning)==null?void 0:ie.run_rate),1),t(e).current_inning.target!=-1&&t(e).current_inning.balls<t(e).max_balls?(o(),i("span",$n," RRR: "+u(((t(e).current_inning.target-t(e).current_inning.runs)/(t(e).max_balls-t(e).current_inning.balls)*6).toFixed(2)),1)):g("",!0)])):g("",!0)])]),n("div",Un,[(ue=(de=t(e))==null?void 0:de.latest_inning)!=null&&ue.batter1?(o(),i("div",An,[n("span",Mn,[D(u((be=t(e).player_by_id(t(e).latest_inning.batter1.playerID))==null?void 0:be.name)+" ",1),t(e).latest_inning.batter1.id==((_e=t(e).latest_inning.striker)==null?void 0:_e.id)?(o(),i("span",Ln," *")):g("",!0)]),n("span",jn,[D(u(t(e).latest_inning.batter1.runs)+" ",1),n("span",Kn,"("+u(t(e).latest_inning.batter1.balls)+")",1)])])):g("",!0),(ce=(ge=t(e))==null?void 0:ge.latest_inning)!=null&&ce.batter2?(o(),i("div",Vn,[n("span",Hn,[D(u((ye=t(e).player_by_id(t(e).latest_inning.batter2.playerID))==null?void 0:ye.name)+" ",1),t(e).latest_inning.batter2.id==((pe=t(e).latest_inning.striker)==null?void 0:pe.id)?(o(),i("span",Wn," *")):g("",!0)]),n("span",Gn,[D(u(t(e).latest_inning.batter2.runs)+" ",1),n("span",Pn,"("+u(t(e).latest_inning.batter2.balls)+")",1)])])):g("",!0),(ve=(me=t(e))==null?void 0:me.latest_inning)!=null&&ve.latest_bowler?(o(),i("div",zn,[n("span",Fn,u((ke=t(e).player_by_id((fe=(xe=t(e))==null?void 0:xe.latest_inning)==null?void 0:fe.latest_bowler.playerID))==null?void 0:ke.name),1),n("span",Yn,[D(u((Me=(Ae=t(e))==null?void 0:Ae.latest_inning)==null?void 0:Me.latest_bowler.wickets)+"/"+u((je=(Le=t(e))==null?void 0:Le.latest_inning)==null?void 0:je.latest_bowler.runs)+" ",1),n("span",Xn,"("+u(t(Se)((Ve=(Ke=t(e))==null?void 0:Ke.latest_inning)==null?void 0:Ve.latest_bowler.balls))+")",1)])])):g("",!0),n("div",qn,[(o(!0),i(j,null,K((We=(He=t(e))==null?void 0:He.latest_inning)==null?void 0:We.this_over,s=>(o(),Ot(p,{ball:s},null,8,["ball"]))),256))])])])]),n("div",Qn,[T.value!="ball"?(o(),i("div",Jn)):g("",!0),T.value!="ball"?(o(),i("div",Zn,[T.value=="start"?(o(),i("button",{key:0,class:"bg-blue-600 rounded p-2 text-white",onClick:Ne},"Start Match")):g("",!0),T.value=="start2"?(o(),i("button",{key:1,class:"bg-blue-600 rounded p-2 text-white",onClick:Ne},"Start Second Inning")):g("",!0),T.value=="batter"?(o(),i("button",{key:2,class:"bg-blue-600 rounded p-2 text-white",onClick:ct},"Select Batter")):g("",!0),T.value=="bowler"?(o(),i("button",{key:3,class:"bg-blue-600 rounded p-2 text-white",onClick:pt},"Select Bowler")):g("",!0),T.value!="start"?(o(),i("button",{key:4,class:"bg-yellow-400 dark:bg-yellow-500 rounded p-2 text-white flex items-center gap-1 justify-center",onClick:Ue},[U(v,{name:"majesticons:undo",size:"1.2rem"}),a[28]||(a[28]=D(" Undo "))])):g("",!0)])):g("",!0),n("div",ea,[n("label",ta,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=s=>C.value=s),class:"form-checkbox",disabled:r.value||b.value||O.value},null,8,na),[[H,C.value]]),a[29]||(a[29]=n("span",{class:"text-gray-700 dark:text-gray-300"},"wd",-1))]),n("label",aa,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=s=>O.value=s),class:"form-checkbox",disabled:C.value},null,8,sa),[[H,O.value]]),a[30]||(a[30]=n("span",{class:"text-gray-700 dark:text-gray-300"},"nb",-1))]),n("label",la,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>r.value=s),class:"form-checkbox",disabled:C.value||b.value},null,8,ra),[[H,r.value]]),a[31]||(a[31]=n("span",{class:"text-gray-700 dark:text-gray-300"},"b",-1))]),n("label",oa,[k(n("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=s=>b.value=s),class:"form-checkbox",disabled:r.value||C.value},null,8,ia),[[H,b.value]]),a[32]||(a[32]=n("span",{class:"text-gray-700 dark:text-gray-300"},"lb",-1))])]),n("div",da,[n("button",{class:"cp-btn-runs",onClick:a[4]||(a[4]=s=>R("0"))},"0"),n("button",{class:"cp-btn-runs",onClick:a[5]||(a[5]=s=>R("1"))},"1"),n("button",{class:"cp-btn-runs",onClick:a[6]||(a[6]=s=>R("2"))},"2"),n("button",{class:"cp-btn-runs",onClick:a[7]||(a[7]=s=>R("3"))},"3"),n("button",{class:"cp-btn-4",onClick:a[8]||(a[8]=s=>R("4"))},"4"),n("button",{class:"cp-btn-6",onClick:a[9]||(a[9]=s=>R("6"))},"6")]),n("div",ua,[n("button",{class:"cp-btn-w",onClick:a[10]||(a[10]=s=>R("bowled"))},"Bowled"),n("button",{class:"cp-btn-w",onClick:mt},"Caught"),n("button",{class:"cp-btn-w",onClick:a[11]||(a[11]=s=>R("lbw"))},"LBW"),n("button",{class:"cp-btn-w",onClick:vt},"Stumped"),n("button",{class:"cp-btn-w",onClick:a[12]||(a[12]=s=>R("hit_wicket"))},"Hit Wicket"),n("button",{class:"cp-btn-w",onClick:a[13]||(a[13]=s=>xt())},"Run Out")]),n("div",ba,[n("button",{class:"cp-btn-undo flex items-center gap-1",onClick:Ue},[U(v,{name:"majesticons:undo",size:"1.2rem"}),a[33]||(a[33]=D(" Undo "))]),n("button",{class:"cp-btn-cb",onClick:a[14]||(a[14]=s=>De.value=!0)},"Custom Ball")])]),n("div",_a,[U(w,{to:`/match/${(Ge=t(e))==null?void 0:Ge.id}/scoreboard`,class:"flex items-center bg-green-500 dark:bg-green-600 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[34]||(a[34]=[D("Scoreboard")])),_:1},8,["to"]),U(w,{to:`/match/${(Pe=t(e))==null?void 0:Pe.id}/timeline`,class:"flex items-center bg-indigo-500 dark:bg-indigo-600 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[35]||(a[35]=[D("Timeline")])),_:1},8,["to"]),U(w,{to:`/match/${(ze=t(e))==null?void 0:ze.id}/charts`,class:"flex items-center bg-yellow-400 dark:bg-yellow-500 text-white font-bold py-2 px-4 rounded w-full justify-center"},{default:Te(()=>a[36]||(a[36]=[D("Charts")])),_:1},8,["to"]),U(N,{class:"flex items-center bg-red-500 dark:bg-red-600 text-white font-bold py-2 px-4 rounded w-full justify-center",onClick:kt},{default:Te(()=>a[37]||(a[37]=[D("Delete")])),_:1})]),W.value?(o(),i("div",ga,[n("div",ca,[a[38]||(a[38]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Batter",-1)),k(n("input",{"onUpdate:modelValue":a[15]||(a[15]=s=>x.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,x.value]]),n("ul",ya,[(o(!0),i(j,null,K((Ye=(Fe=t(e))==null?void 0:Fe.current_inning)==null?void 0:Ye.id_YetToBat.map(s=>{var f;return(f=t(e))==null?void 0:f.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(x.value.toLowerCase())),s=>(o(),i("li",{onClick:f=>{c.value=s,W.value=!1},class:"cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},u(s==null?void 0:s.name),9,pa))),256))]),n("div",ma,[n("button",{onClick:a[16]||(a[16]=s=>W.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),A.value?(o(),i("div",va,[n("div",xa,[a[44]||(a[44]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Bowler Modal",-1)),k(n("input",{"onUpdate:modelValue":a[17]||(a[17]=s=>x.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,x.value]]),n("ul",fa,[n("table",ka,[a[43]||(a[43]=n("tr",{class:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wider"},[n("th",{class:"px-1 py-2"},"Bowler"),n("th",{class:"px-1 py-2 text-right"},"O"),n("th",{class:"px-1 py-2 text-right"},"R"),n("th",{class:"px-1 py-2 text-right"},"W"),n("th",{class:"px-1 py-2 text-right"},"Econ")],-1)),(o(!0),i(j,null,K(t(yt),(s,f)=>{var tt,nt,at;return o(),i("tr",{key:f,type:"button",onClick:za=>{var st,lt;s.id!=((lt=(st=t(e).current_inning)==null?void 0:st.last_bowler)==null?void 0:lt.id)&&(c.value=t(e).player_by_id(s.playerID),A.value=!1)},class:_t(["text-sm text-gray-900 dark:text-gray-100 cursor-pointer disabled:opacity-50",[s.id==((nt=(tt=t(e).current_inning)==null?void 0:tt.last_bowler)==null?void 0:nt.id)?"opacity-50":"hover:bg-gray-100 dark:hover:bg-gray-700"]])},[n("td",ha,u((at=t(e).player_by_id(s.playerID))==null?void 0:at.name),1),n("td",Na,u(t(Se)(s.balls)),1),n("td",Ea,u(s.runs),1),n("td",Da,u(s.wickets),1),n("td",Ta,u(s.economy),1)],10,wa)}),128)),(o(!0),i(j,null,K((qe=(Xe=t(e))==null?void 0:Xe.current_inning)==null?void 0:qe.id_YetToBowl.toReversed().map(s=>{var f;return(f=t(e))==null?void 0:f.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(x.value.toLowerCase())),s=>(o(),i("tr",{onClick:f=>{c.value=s,A.value=!1},class:"text-sm text-gray-900 dark:text-gray-100 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700"},[n("td",Ca,u(s==null?void 0:s.name),1),a[39]||(a[39]=n("td",{class:"px-1 py-2 text-right"}," ",-1)),a[40]||(a[40]=n("td",{class:"px-1 py-2 text-right"}," ",-1)),a[41]||(a[41]=n("td",{class:"px-1 py-2 text-right font-semibold"}," ",-1)),a[42]||(a[42]=n("td",{class:"px-1 py-2 text-right rounded-r"}," ",-1))],8,Ia))),256))])]),n("div",Oa,[n("button",{onClick:a[18]||(a[18]=s=>A.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),S.value?(o(),i("div",Ra,[n("div",Sa,[a[45]||(a[45]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Helper",-1)),k(n("input",{"onUpdate:modelValue":a[19]||(a[19]=s=>x.value=s),type:"text",placeholder:"Search for a player",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white mb-4"},null,512),[[Oe,x.value]]),n("ul",Ba,[(o(!0),i(j,null,K((t(e).current_inning==t(e).FirstInning?t(e).team2PlayerIDs:t(e).team1PlayerIDs).map(s=>{var f;return(f=t(e))==null?void 0:f.player_by_id(s)}).filter(s=>s==null?void 0:s.name.toLowerCase().includes(x.value.toLowerCase())),s=>(o(),i("li",{onClick:f=>{c.value=s,S.value=!1},class:"cursor-pointer p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},u(s==null?void 0:s.name),9,$a))),256))]),n("div",Ua,[n("button",{onClick:a[20]||(a[20]=s=>S.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"}," Close ")])])])):g("",!0),M.value?(o(),i("div",Aa,[n("form",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",onSubmit:a[25]||(a[25]=gt(s=>M.value=!1,["prevent"]))},[a[49]||(a[49]=n("h2",{class:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100"},"Select Runout Type",-1)),n("div",Ma,[a[47]||(a[47]=n("label",{for:"runsBeforeRunout",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runs before runout (for more use custom ball) ",-1)),k(n("select",{id:"runsBeforeRunout","onUpdate:modelValue":a[21]||(a[21]=s=>Ee.value=s),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"},a[46]||(a[46]=[n("option",{value:0},"0",-1),n("option",{value:1},"1",-1),n("option",{value:2},"2",-1),n("option",{value:3},"3",-1)]),512),[[V,Ee.value]])]),n("div",La,[a[48]||(a[48]=n("label",{for:"runoutType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Runout Type ",-1)),k(n("select",{id:"runoutType","onUpdate:modelValue":a[22]||(a[22]=s=>B.value=s),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 outline-none sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[n("option",{value:t(l).NONE},"Select One",8,ja),n("option",{value:t(l).RUN_OUT_STRIKER_ON_STRIKER_END}," Striker got out on striker end ",8,Ka),n("option",{value:t(l).RUN_OUT_STRIKER_ON_NON_STRIKER_END}," Striker got out on non-striker end ",8,Va),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_STRIKER_END}," Non-striker got out on striker end ",8,Ha),n("option",{value:t(l).RUN_OUT_NON_STRIKER_ON_NON_STRIKER_END}," Non-striker got out on non-striker end ",8,Wa)],512),[[V,B.value]])]),n("div",Ga,[n("button",{onClick:a[23]||(a[23]=s=>{B.value=t(l).NONE,M.value=!1}),type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}," Cancel "),n("button",{onClick:a[24]||(a[24]=s=>M.value=!1),disabled:B.value==t(l).NONE,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none disabled:opacity-60"}," OK ",8,Pa)])],32)])):g("",!0),U($,{"show-modal":De.value,"bowling-team-players":(t(e).current_inning==t(e).FirstInning?t(e).team2PlayerIDs:t(e).team1PlayerIDs).map(s=>{var f;return(f=t(e))==null?void 0:f.player_by_id(s)}),"bowler-id":(Je=(Qe=t(e).current_inning)==null?void 0:Qe.bowler)==null?void 0:Je.playerID,"batter-id":(et=(Ze=t(e).current_inning)==null?void 0:Ze.striker)==null?void 0:et.playerID,onClose:a[26]||(a[26]=s=>De.value=!1),onBall:a[27]||(a[27]=s=>ft(s))},null,8,["show-modal","bowling-team-players","bowler-id","batter-id"])])}}});export{Ja as default};
